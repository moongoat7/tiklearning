<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LearningTok — Demo Feed</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <style>
    html,body{background:linear-gradient(#0a0a0a,#000);min-height:100%}
  </style>
</head>
<body class="text-white min-h-screen">
<div id="root"></div>

<script>
const {useState} = React;

// דמו: 3 פריטים בפיד עם וידאו אמיתי (CC0 מה-MDN)
const DEMO_FEED = [
  {
    id: 'v1',
    topic: 'מבוא לפייתון',
    videoUrl: 'https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4',
    script: 'פייתון היא שפת תכנות פשוטה לקריאה. בסרטון - הסבר קצר מה זה משתנה ודוגמה להדפסה.',
    quiz: {
      prompt: 'מה עושה הפקודה print בפייתון?',
      choices: ['מדפיסה פלט למסך', 'יוצרת פונקציה', 'עוצרת את התוכנית', 'מייבאת מודול'],
      correctIndex: 0,
      explain: 'print מוציאה טקסט/ערכים למסך.'
    }
  },
  {
    id: 'v2',
    topic: 'סטטיסטיקה בסיסית',
    videoUrl: 'https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4',
    script: 'ממוצע = סכום הערכים חלקי מספרם. נראה דוגמה קצרה ואז נבדוק הבנה.',
    quiz: {
      prompt: 'הממוצע של 2, 4, 6 הוא:',
      choices: ['3', '4', '5', '6'],
      correctIndex: 1,
      explain: '(2+4+6)/3 = 4.'
    }
  },
  {
    id: 'v3',
    topic: 'גיאומטריה: היקף מעגל',
    videoUrl: 'https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4',
    script: 'היקף מעגל = 2πr. דוגמה קצרה ואז שאלה.',
    quiz: {
      prompt: 'אם r=5, בקירוב היקף המעגל הוא:',
      choices: ['~10π', '~5π', '~25', '~π/5'],
      correctIndex: 0,
      explain: '2πr = 10π.'
    }
  }
];

function VideoCard({item, onAnswered}) {
  const [picked, setPicked] = useState(null);
  const ok = picked !== null && picked === item.quiz.correctIndex;
  return (
    React.createElement('div',{className:'p-4 flex flex-col gap-3'},
      React.createElement('div',{className:'text-xs text-white/60'}, item.topic),
      React.createElement('div',{className:'rounded-2xl overflow-hidden border border-white/10 bg-black/40'},
        React.createElement('video',{src:item.videoUrl, controls:true, className:'w-full h-64 object-cover', playsInline:true})
      ),
      React.createElement('div',{className:'text-sm text-white/80 bg-white/5 border border-white/10 rounded-xl p-3 whitespace-pre-wrap'}, item.script),
      React.createElement('div',{className:'mt-1 text-base font-semibold'}, item.quiz.prompt),
      React.createElement('div',{className:'grid gap-2'},
        ...item.quiz.choices.map((c,i)=>
          React.createElement('button',{
            key:i, onClick:()=>{ setPicked(i); onAnswered?.(i===item.quiz.correctIndex); },
            className:`text-right p-3 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 transition ${picked===i ? (i===item.quiz.correctIndex?'ring-2 ring-green-400':'ring-2 ring-red-400') : ''}`
          }, React.createElement('div',{className:'text-sm font-medium'}, c))
        )
      ),
      picked!==null && React.createElement('div',{className:'text-xs text-white/70'},
        ok ? 'תשובה נכונה 👌' : 'לא נורא, נסו שוב'
      )
    )
  );
}

function App(){
  const [i,setI] = useState(0);
  const item = DEMO_FEED[i];

  const next = ()=> setI(v => Math.min(v+1, DEMO_FEED.length-1));
  const prev = ()=> setI(v => Math.max(v-1, 0));

  return (
    React.createElement('div',null,
      React.createElement('div',{className:'px-4 pt-4 pb-2 flex items-center justify-between'},
        React.createElement('div',{className:'flex items-center gap-3'},
          React.createElement('div',{className:'w-9 h-9 rounded-xl bg-white/10 flex items-center justify-center font-bold'},'LT'),
          React.createElement('div',null,
            React.createElement('div',{className:'text-sm font-semibold'},'LearningTok — Demo'),
            React.createElement('div',{className:'text-xs text-white/60'}, `${i+1} / ${DEMO_FEED.length}`)
          )
        ),
        React.createElement('div',{className:'flex items-center gap-2'},
          React.createElement('button',{onClick:prev, className:'px-3 py-1.5 rounded-lg bg-white/10 hover:bg-white/20'},'הקודם'),
          React.createElement('button',{onClick:next, className:'px-3 py-1.5 rounded-lg bg-white/10 hover:bg-white/20'},'הבא')
        )
      ),

      // מסגרת "טלפון"
      React.createElement('div',{className:'py-6 px-4'},
        React.createElement('div',{className:'relative mx-auto max-w-[390px] h-[760px] rounded-[2.25rem] shadow-[0_10px_30px_rgba(0,0,0,0.25)] border border-white/10 overflow-hidden bg-gradient-to-b from-zinc-900 to-black'},
          React.createElement('div',{className:'absolute left-1/2 -translate-x-1/2 top-2 w-40 h-5 rounded-b-2xl bg-black/40'}),
          React.createElement('div',{className:'absolute inset-0 pointer-events-none bg-[radial-gradient(ellipse_at_top,rgba(255,255,255,0.06),transparent_60%)]'}),
          React.createElement('div',{className:'relative z-10 h-full overflow-y-auto'},
            React.createElement(VideoCard,{item})
          )
        )
      )
    )
  );
}

ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(App));
</script>
</body>
</html>
